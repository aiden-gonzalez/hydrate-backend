{
    "openapi": "3.0.2",
    "info": {
        "title": "hydRate",
        "version": "1.0.0",
        "description": "API for hydRate application",
        "contact": {
            "name": "Aiden Gonzalez",
            "url": "https://aidengonzalez.dev/",
            "email": "aidenlgonzalez2@gmail.com"
        },
        "license": {
            "name": "MIT License",
            "url": "https://opensource.org/licenses/MIT"
        }
    },
    "paths": {
        "/api/signup": {
            "summary": "Request creation of new user account",
            "post": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/SignupRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Account successfully created"
                    },
                    "401": {
                        "description": "Credentials invalid!"
                    }
                },
                "summary": "Create new user account"
            }
        },
        "/api/fobs": {
            "summary": "Primary endpoint for retrieving (GET) and adding (POST) Fobs",
            "get": {
                "parameters": [
                    {
                        "name": "type",
                        "description": "Filter Fobs by type (fountain or bathroom)",
                        "schema": {
                            "type": "string",
                            "enum": ["fountain", "bathroom"]
                        },
                        "in": "query",
                        "required": false
                    },
                    {
                        "name": "latitude",
                        "description": "Latitude to fetch Fobs around. If provided, must provide longitude!",
                        "schema": {
                            "type": "number"
                        },
                        "in": "query"
                    },
                    {
                        "name": "longitude",
                        "description": "Longitude to fetch Fobs around. If provided, must also provide latitude!",
                        "schema": {
                            "type": "number"
                        },
                        "in": "query"
                    },
                    {
                        "name": "radius",
                        "description": "Radius to fetch Fobs within (in meters)",
                        "schema": {
                            "type": "number"
                        },
                        "in": "query",
                        "required": false
                    },
                    {
                        "name": "user_id",
                        "description": "ID of user that created the Fob(s)",
                        "schema": {
                            "type": "string"
                        },
                        "in": "query",
                        "required": false
                    },
                    {
                        "name": "from_date",
                        "description": "Filter fountains to those created on or after this date.  Unix epoch milliseconds timestamp.",
                        "schema": {
                            "type": "number"
                        },
                        "in": "query",
                        "required": false
                    },
                    {
                        "name": "to_date",
                        "description": "Filter fountains to those created before or on this date.  Unix epoch milliseconds timestamp.",
                        "schema": {
                            "type": "number"
                        },
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Fob"
                                    }
                                }
                            }
                        },
                        "description": "Successful query. Return array of Fobs."
                    },
                    "400": {
                        "description": "Bad request"
                    },
                    "403": {
                        "description": "Authentication failed"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get a group of Fobs (query)"
            },
            "post": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/FobCreationDetails"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Fob"
                                }
                            }
                        },
                        "description": "Successfully added Fob!"
                    },
                    "400": {
                        "description": "Malformed request! Missing some information or not in the right format."
                    },
                    "401": {
                        "description": "Access token incorrect / insufficient / expired!"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Add a Fob"
            }
        },
        "/api/auth/refresh": {
            "summary": "For using refresh token to obtain new access token",
            "post": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AuthRefreshRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/AuthSuccessResponse"
                                }
                            }
                        },
                        "description": "Successful refresh request, grant new tokens"
                    },
                    "400": {
                        "description": "Request is missing required information or is incorrectly formatted"
                    },
                    "401": {
                        "description": "Credentials incorrect or refresh token expired!"
                    }
                },
                "summary": "Auth token refresh"
            }
        },
        "/api/auth": {
            "summary": "Primary endpoint for password authentication scheme",
            "post": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AuthRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/AuthSuccessResponse"
                                }
                            }
                        },
                        "description": "Successful auth request, return tokens and token information"
                    },
                    "400": {
                        "description": "Request is missing required information or is incorrectly formatted"
                    },
                    "401": {
                        "description": "User credentials are incorrect"
                    }
                },
                "summary": "Password authentication"
            }
        },
        "/api/profiles/{username}": {
            "summary": "Endpoint for getting and updating profiles",
            "get": {
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Profile"
                                }
                            }
                        },
                        "description": "Successfully fetched user profile"
                    },
                    "400": {
                        "description": "Malformed request (missing username?)"
                    },
                    "403": {
                        "description": "Authorization/authentication failed (access token invalid, or maybe not allowed to view this profile?)"
                    },
                    "404": {
                        "description": "User with provided username not found!"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get a profile by username"
            },
            "put": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/Profile"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Profile"
                                }
                            }
                        },
                        "description": "Successfully updated user profile!"
                    },
                    "400": {
                        "description": "Malformed request!"
                    },
                    "401": {
                        "description": "Authorization/authentication failed!"
                    },
                    "404": {
                        "description": "Could not find user with ID"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Update user profile by username"
            },
            "parameters": [
                {
                    "examples": {
                        "username": {
                            "value": "gonzo123"
                        }
                    },
                    "name": "username",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                }
            ]
        },
        "/api/fobs/{id}/pictures": {
            "summary": "Retrieve pictures for a Fob",
            "parameters": [
                {
                    "name": "id",
                    "description": "ID of the Fob",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                }
            ],
            "get": {
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/PictureSignedUrl"
                                    }
                                }
                            }
                        },
                        "description": "Successful pictures request"
                    },
                    "400": {
                        "description": "Malformed request (may be missing required parameters)"
                    },
                    "401": {
                        "description": "Authentication/authorization failed"
                    },
                    "404": {
                        "description": "Fob with given ID does not exist!"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get pictures for a Fob"
            }
        },
        "/api/fobs/{id}/pictures/upload": {
            "summary": "Retrieve a picture upload link for a Fob",
            "parameters": [
                {
                    "name": "id",
                    "description": "ID of the Fob",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                }
            ],
            "get": {
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PictureSignedUrl"
                                }
                            }
                        },
                        "description": "Successful picture upload URL request"
                    },
                    "400": {
                        "description": "Malformed request"
                    },
                    "401": {
                        "description": "Authentication/authorization failed"
                    },
                    "404": {
                        "description": "Fob does not exist!"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get picture upload link for a Fob"
            }
        },
       "/api/pictures/{id}": {
            "summary": "Get, update status, or delete a specific picture by its ID",
            "parameters": [
                {
                    "name": "id",
                    "description": "ID of the picture",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                }
            ],
            "get": {
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PictureSignedUrl"
                                }
                            }
                        },
                        "description": "Successful request, return picture URL"
                    },
                    "400": {
                        "description": "Malformed request"
                    },
                    "401": {
                        "description": "Authentication/authorization failed"
                    },
                    "404": {
                        "description": "Picture with provided ID not found!"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get a specific picture by ID"
            },
            "put": {
                "summary": "Update the pending property of a Picture",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "pending": {
                                        "type": "boolean",
                                        "description": "Updated pending status of the picture"
                                    }
                                },
                                "required": ["pending"]
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successfully updated the picture's pending status"
                    },
                    "400": {
                        "description": "Malformed request (missing or invalid ID or body)"
                    },
                    "401": {
                        "description": "Authentication/authorization failed"
                    },
                    "404": {
                        "description": "Picture with provided ID not found!"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ]
            },
            "delete": {
                "responses": {
                    "200": {
                        "description": "Successfully deleted the picture"
                    },
                    "400": {
                        "description": "Malformed request (missing or invalid ID)"
                    },
                    "401": {
                        "description": "Authentication/authorization failed"
                    },
                    "404": {
                        "description": "Picture with provided ID not found!"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Delete a specific picture by ID"
            }
        },
        "/api/fobs/{id}/ratings": {
            "summary": "Primary endpoint for adding (POST), retrieving (GET), and updating (PUT) Fob ratings",
            "get": {
                "parameters": [
                    {
                        "name": "page_size",
                        "description": "Optional pagination: Size of pages to fetch (number of ratings per page)",
                        "schema": {
                            "type": "integer"
                        },
                        "in": "query"
                    },
                    {
                        "name": "page_offset",
                        "description": "Optional pagination: Offset of page to fetch (default is 0, max is 100)",
                        "schema": {
                            "type": "integer"
                        },
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Rating"
                                    }
                                }
                            }
                        },
                        "description": "Successful query. Return array of Fob ratings."
                    },
                    "400": {
                        "description": "Bad request"
                    },
                    "403": {
                        "description": "Authentication failed"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get ratings for a particular Fob"
            },
            "post": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "description": "Details of the rating, specific to the type of Fob",
                                "oneOf": [
                                    { "$ref": "#/components/schemas/FountainRatingDetails" },
                                    { "$ref": "#/components/schemas/BathroomRatingDetails" }
                                ]
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Rating"
                                }
                            }
                        },
                        "description": "Successfully added Fob rating!"
                    },
                    "400": {
                        "description": "Malformed request! Missing some information or not in the right format."
                    },
                    "401": {
                        "description": "Access token incorrect / insufficient / expired!"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Add a Fob rating"
            },
            "parameters": [
                {
                    "name": "id",
                    "description": "ID of the Fob",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                }
            ]
        },
        "/api/fobs/{id}/ratings/{ratingId}": {
            "summary": "Primary endpoint for retrieving (GET) and updating (PUT) a specific Fob rating",
            "get": {
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Rating"
                                }
                            }
                        },
                        "description": "Successful request, return Fob rating"
                    },
                    "400": {
                        "description": "Malformed request"
                    },
                    "401": {
                        "description": "Authentication/authorization failed"
                    },
                    "404": {
                        "description": "Rating with provided ID not found!"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get a specific rating for a Fob"
            },
            "put": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/Rating"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Rating"
                                }
                            }
                        },
                        "description": "Fob rating successfully updated!"
                    },
                    "400": {
                        "description": "Malformed request"
                    },
                    "401": {
                        "description": "Authentication/authorization failed"
                    },
                    "404": {
                        "description": "Rating with provided ID not found!"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Update a specific rating for a Fob"
            },
            "parameters": [
                {
                    "name": "id",
                    "description": "ID of the Fob",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                },
                {
                    "name": "ratingId",
                    "description": "ID of the rating",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                }
            ]
        },
        "/api/fobs/{id}": {
            "summary": "Primary endpoint for retrieving (GET) and updating (PUT) a Fob.",
            "get": {
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Fob"
                                }
                            }
                        },
                        "description": "Successful request, return Fob."
                    },
                    "400": {
                        "description": "Bad request"
                    },
                    "401": {
                        "description": "Invalid auth"
                    },
                    "404": {
                        "description": "Fob not found"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get Fob by ID"
            },
            "put": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/Fob"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Fob"
                                }
                            }
                        },
                        "description": "Fob successfully updated!"
                    },
                    "400": {
                        "description": "Bad request"
                    },
                    "403": {
                        "description": "Insufficient auth"
                    },
                    "404": {
                        "description": "Fob not found"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Update Fob info for a particular Fob"
            },
            "parameters": [
                {
                    "name": "id",
                    "description": "ID of the Fob",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                }
            ]
        },
        "/api/fobs/{id}/details": {
            "summary": "Retrieve detailed information about a Fob, including all pictures and ratings",
            "get": {
                "parameters": [
                    {
                        "name": "id",
                        "description": "ID of the Fob",
                        "schema": {
                            "type": "string"
                        },
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/FobWithDetails"
                                }
                            }
                        },
                        "description": "Successfully retrieved Fob details"
                    },
                    "400": {
                        "description": "Malformed request"
                    },
                    "401": {
                        "description": "Authentication/authorization failed"
                    },
                    "404": {
                        "description": "Fob with provided ID not found"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get detailed information about a Fob"
            }
        },
        "/": {
            "get": {
                "responses": {
                    "200": {
                        "description": "Server OK"
                    }
                },
                "summary": "Generic endpoint"
            }
        },
        "/api/profiles/{username}/contributions": {
            "summary": "Endpoint for getting user contributions",
            "description": "",
            "get": {
                "parameters": [
                    {
                        "name": "from_date",
                        "description": "Limit query to contributions on and after this date.  Unix epoch milliseconds timestamp.",
                        "schema": {
                            "type": "integer"
                        },
                        "in": "query"
                    },
                    {
                        "name": "to_date",
                        "description": "Limit query to contributions up to and on this date.  Unix epoch milliseconds timestamp.",
                        "schema": {
                            "type": "integer"
                        },
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserContributions"
                                }
                            }
                        },
                        "description": "Request successful. Returns user contributions."
                    },
                    "400": {
                        "description": "Malformed request"
                    },
                    "401": {
                        "description": "Authorization/authentication failed (access token invalid, or maybe not allowed to view this profile?)"
                    },
                    "404": {
                        "description": "User not found"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get user contributions for specified user",
                "description": "Uses an optimized database query to get user created fountains, bathrooms, ratings, and pictures. All contributions by that user basically."
            },
            "parameters": [
                {
                    "examples": {
                        "username": {
                            "value": "\"some text\""
                        }
                    },
                    "name": "username",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                }
            ]
        }
    },
    "components": {
        "schemas": {
            "User": {
                "description": "",
                "required": [
                    "username",
                    "email",
                    "profile",
                    "id"
                ],
                "type": "object",
                "properties": {
                    "username": {
                        "description": "Username of user",
                        "type": "string"
                    },
                    "email": {
                        "description": "Email address of user",
                        "type": "string"
                    },
                    "profile": {
                        "$ref": "#/components/schemas/Profile"
                    },
                    "id": {
                        "description": "Unique user id (not technically necessary but helpful)",
                        "type": "string"
                    },
                    "created_at": {
                        "description": "Created timestamp.  Unix epoch milliseconds.",
                        "type": "integer"
                    },
                    "updated_at": {
                        "description": "Updated timestamp.  Unix epoch milliseconds.",
                        "type": "integer"
                    }
                },
                "example": {
                    "username": "some text",
                    "email": "some text",
                    "profile": {
                        "full_name": "some text",
                        "picture_link": "some text"
                    },
                    "id": "some text",
                    "created_at": 12,
                    "updated_at": 3
                }
            },
            "Profile": {
                "description": "",
                "required": [
                    "full_name",
                    "picture_link"
                ],
                "type": "object",
                "properties": {
                    "full_name": {
                        "description": "Full name of user",
                        "type": "string"
                    },
                    "picture_link": {
                        "description": "Link to profile photo",
                        "type": "string"
                    }
                },
                "example": {
                    "full_name": "some text",
                    "picture_link": "some text"
                }
            },
            "Rating": {
                "description": "Rating for a Fob",
                "required": [
                    "id",
                    "fob_id",
                    "user_id",
                    "details"
                ],
                "type": "object",
                "properties": {
                    "id": {
                        "description": "Unique ID of the rating",
                        "type": "string"
                    },
                    "fob_id": {
                        "description": "ID of the Fob being rated",
                        "type": "string"
                    },
                    "user_id": {
                        "description": "ID of the user who created the rating",
                        "type": "string"
                    },
                    "details": {
                        "description": "Details of the rating, specific to the type of Fob",
                        "oneOf": [
                            { "$ref": "#/components/schemas/FountainRatingDetails" },
                            { "$ref": "#/components/schemas/BathroomRatingDetails" }
                        ]
                    },
                    "created_at": {
                        "description": "Created timestamp. Unix epoch milliseconds.",
                        "type": "integer"
                    },
                    "updated_at": {
                        "description": "Updated timestamp. Unix epoch milliseconds.",
                        "type": "integer"
                    }
                },
                "example": {
                    "id": "rating123",
                    "fob_id": "fob456",
                    "user_id": "user789",
                    "details": {
                        "pressure": 5,
                        "taste": 4,
                        "temperature": 3
                    },
                    "created_at": 1672531200000,
                    "updated_at": 1672617600000
                }
            },
            "RatingWithDetails": {
                "description": "Details of a rating including the user who created it",
                "type": "object",
                "properties": {
                    "rating": {
                        "$ref": "#/components/schemas/Rating"
                    },
                    "user": {
                        "$ref": "#/components/schemas/User"
                    }
                },
                "required": ["rating", "user"],
                "example": {
                    "rating": {
                        "id": "rating123",
                        "fob_id": "fob456",
                        "user_id": "user789",
                        "details": {
                            "pressure": 5,
                            "taste": 4,
                            "temperature": 3
                        },
                        "created_at": 1672531200000,
                        "updated_at": 1672617600000
                    },
                    "user": {
                        "id": "user789",
                        "username": "exampleUser",
                        "email": "example@example.com",
                        "profile": {
                            "full_name": "Example User",
                            "picture_link": "https://example.com/profile.jpg"
                        },
                        "created_at": 1672531200000,
                        "updated_at": 1672617600000
                    }
                }
            },
            "Picture": {
                "required": [
                    "id",
                    "url",
                    "user_id",
                    "fob_id"
                ],
                "type": "object",
                "properties": {
                    "id": {
                        "description": "Unique ID of picture",
                        "type": "string"
                    },
                    "fob_id": {
                        "description": "Fountain or bathroom ID picture is for",
                        "type": "string"
                    },
                    "url": {
                        "description": "Url for picture",
                        "type": "string"
                    },
                    "user_id": {
                        "description": "ID of user that created the picture.",
                        "type": "string"
                    },
                    "pending": {
                        "description": "Pending status of the picture (true or false). I.e., whether or not the picture is fully uploaded to S3 yet",
                        "type": "boolean"
                    },
                    "created_at": {
                        "description": "Created timestamp.  Unix epoch milliseconds.",
                        "type": "integer"
                    },
                    "updated_at": {
                        "description": "Updated timestamp.  Unix epoch milliseconds.",
                        "type": "integer"
                    }
                },
                "example": {
                    "id": "some text",
                    "fob_id": "some text",
                    "url": "some text",
                    "user_id": "some text",
                    "created_at": 9,
                    "updated_at": 86
                }
            },
            "PictureSignedUrl": {
                "required": ["signed_url"],
                "type": "object",
                "properties": {
                    "signed_url": {
                        "description": "Signed URL for picture",
                        "type": "string"
                    },
                    "expires": {
                        "description": "Expiration time of the signed URL in Unix epoch milliseconds",
                        "type": "integer"
                    }
                },
                "example": {
                    "signed_url": "some text",
                    "expires": 174857296748
                }
            },
            "UserCredentials": {
                "description": "Set of login credentials",
                "required": [
                    "email",
                    "password"
                ],
                "type": "object",
                "properties": {
                    "email": {
                        "description": "Email address of user",
                        "type": "string"
                    },
                    "password": {
                        "description": "User's password",
                        "type": "string"
                    }
                },
                "example": {
                    "email": "some text",
                    "password": "some text"
                }
            },
            "Location": {
                "description": "Identify a unique location (longitude and latitude)",
                "required": [
                    "longitude",
                    "latitude"
                ],
                "type": "object",
                "properties": {
                    "longitude": {
                        "description": "Longitude of location",
                        "type": "number"
                    },
                    "latitude": {
                        "description": "Latitude of location",
                        "type": "number"
                    }
                },
                "example": {
                    "longitude": 38.13,
                    "latitude": 35.74
                }
            },
            "SignupRequest": {
                "description": "Information needed for signup request",
                "required": [
                    "user_credentials",
                    "username"
                ],
                "type": "object",
                "properties": {
                    "username": {
                        "description": "New username for new user",
                        "type": "string"
                    },
                    "user_credentials": {
                        "$ref": "#/components/schemas/UserCredentials"
                    }
                },
                "example": {
                    "username": "some text",
                    "user_credentials": {
                        "email": "some text",
                        "password": "some text"
                    }
                }
            },
            "Fob": {
                "description": "Fountain or bathroom information",
                "required": [
                    "id",
                    "info",
                    "name",
                    "location",
                    "user_id"
                ],
                "type": "object",
                "properties": {
                    "id": {
                        "description": "Unique ID of fob",
                        "type": "string"
                    },
                    "info": {
                        "description": "Info about the Fob, can be either FountainInfo or BathroomInfo",
                        "oneOf": [
                            { "$ref": "#/components/schemas/FountainInfo" },
                            { "$ref": "#/components/schemas/BathroomInfo" }
                        ]
                    },
                    "created_at": {
                        "description": "Created timestamp.  Unix epoch milliseconds.",
                        "type": "integer"
                    },
                    "updated_at": {
                        "description": "Updated timestamp.  Unix epoch milliseconds.",
                        "type": "integer"
                    },
                    "name": {
                        "description": "Name of fob",
                        "type": "string"
                    },
                    "location": {
                        "$ref": "#/components/schemas/Location"
                    },
                    "user_id": {
                        "description": "ID of user who created the fob",
                        "type": "string"
                    },
                    "average_rating": {
                        "description": "Average rating of the fob",
                        "type": "number",
                        "nullable": true
                    }
                }
            },
            "FountainInfo": {
                "description": "",
                "required": [
                    "bottle_filler"
                ],
                "type": "object",
                "properties": {
                    "bottle_filler": {
                        "description": "Whether or not the fountain features a dedicated bottle filler",
                        "type": "boolean"
                    }
                },
                "example": {
                    "bottle_filler": true
                }
            },
            "BathroomInfo": {
                "description": "",
                "required": [
                    "gender",
                    "sanitary_products",
                    "baby_changer"
                ],
                "type": "object",
                "properties": {
                    "gender": {
                        "description": "Gender/sex of bathroom",
                        "pattern": "^((male)|(female)|(all-gender))$",
                        "type": "string"
                    },
                    "sanitary_products": {
                        "description": "Whether or not bathroom has sanitary products available (such as tampons and pads)",
                        "type": "boolean"
                    },
                    "baby_changer": {
                        "description": "Whether or not bathroom has a baby changer available",
                        "type": "boolean"
                    }
                },
                "example": {
                    "gender": "some text",
                    "sanitary_products": true,
                    "baby_changer": true
                }
            },
            "BathroomRatingDetails": {
                "description": "Actual details of bathroom rating",
                "required": [
                    "cleanliness",
                    "decor",
                    "drying",
                    "privacy",
                    "washing"
                ],
                "type": "object",
                "properties": {
                    "cleanliness": {
                        "description": "Cleanliness rating of bathroom (1-5)",
                        "multipleOf": 1,
                        "maximum": 5,
                        "minimum": 1,
                        "type": "integer"
                    },
                    "decor": {
                        "description": "Decor rating of bathroom (1-5)",
                        "multipleOf": 1,
                        "maximum": 5,
                        "minimum": 1,
                        "type": "integer"
                    },
                    "drying": {
                        "description": "Drying rating of bathroom (1-5)",
                        "multipleOf": 1,
                        "maximum": 5,
                        "minimum": 1,
                        "type": "integer"
                    },
                    "privacy": {
                        "description": "Privacy rating of bathroom (1-5)",
                        "multipleOf": 1,
                        "maximum": 5,
                        "minimum": 1,
                        "type": "integer"
                    },
                    "washing": {
                        "description": "Washing rating of bathroom (1-5)",
                        "multipleOf": 1,
                        "maximum": 5,
                        "minimum": 1,
                        "type": "integer"
                    }
                },
                "example": {
                    "cleanliness": 3,
                    "decor": 1,
                    "drying": 2,
                    "privacy": 3,
                    "washing": 5
                }
            },
            "FountainRatingDetails": {
                "description": "Details of fountain rating",
                "required": [
                    "pressure",
                    "taste",
                    "temperature"
                ],
                "type": "object",
                "properties": {
                    "pressure": {
                        "description": "Pressure rating for fountain (1-5)",
                        "multipleOf": 1,
                        "maximum": 5,
                        "minimum": 1,
                        "type": "integer"
                    },
                    "taste": {
                        "description": "Taste rating for fountain (1-5)",
                        "multipleOf": 1,
                        "maximum": 5,
                        "minimum": 1,
                        "type": "integer"
                    },
                    "temperature": {
                        "description": "Temperature rating for fountain (1-5)",
                        "multipleOf": 1,
                        "maximum": 5,
                        "minimum": 1,
                        "type": "integer"
                    }
                },
                "example": {
                    "pressure": 5,
                    "taste": 4,
                    "temperature": 1
                }
            },
            "AuthSuccessResponse": {
                "description": "Tokens and token information returned after successful auth request   ",
                "required": [
                    "access_token",
                    "refresh_token",
                    "token_type",
                    "expires",
                    "username"
                ],
                "type": "object",
                "properties": {
                    "access_token": {
                        "description": "Access token for user",
                        "type": "string"
                    },
                    "refresh_token": {
                        "description": "Token to use to get a new token once access_token expires",
                        "type": "string"
                    },
                    "token_type": {
                        "description": "Type of token (will be \"Bearer\")",
                        "type": "string"
                    },
                    "expires": {
                        "description": "Number of seconds that access_token is valid for",
                        "type": "integer"
                    },
                    "username": {
                        "description": "Username of authenticated user",
                        "type": "string"
                    }
                },
                "example": {
                    "access_token": "some text",
                    "refresh_token": "some text",
                    "token_type": "some text",
                    "expires": 12,
                    "username": "some text"
                }
            },
            "AuthRefreshRequest": {
                "description": "Request format for refreshing auth access token",
                "required": [
                    "expired_token",
                    "refresh_token"
                ],
                "type": "object",
                "properties": {
                    "refresh_token": {
                        "description": "Refresh token",
                        "type": "string"
                    },
                    "expired_token": {
                        "description": "Expired access token",
                        "type": "string"
                    }
                },
                "example": {
                    "refresh_token": "some text",
                    "expired_token": "some text"
                }
            },
            "AuthRequest": {
                "description": "Body of POST request for authentication",
                "required": [
                    "user_credentials"
                ],
                "type": "object",
                "properties": {
                    "user_credentials": {
                        "$ref": "#/components/schemas/UserCredentials"
                    }
                },
                "example": {
                    "user_credentials": {
                        "email": "some text",
                        "password": "some text"
                    }
                }
            },
            "UserContributions": {
                "description": "Summary of user contributions",
                "required": [
                    "fountains",
                    "bathrooms",
                    "fountain_ratings",
                    "bathroom_ratings",
                    "pictures"
                ],
                "type": "object",
                "properties": {
                    "fobs": {
                        "description": "Fobs created by the user",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Fob"
                        }
                    },
                    "ratings": {
                        "description": "Fob ratings created by user",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Rating"
                        }
                    },
                    "pictures": {
                        "description": "Pictures created by user",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Picture"
                        }
                    }
                },
                "example": {
                    "fobs": [
                        {
                            "id": "some text",
                            "info": {
                                "bottle_filler": true
                            },
                            "user_id": "some text",
                            "created_at": 71,
                            "updated_at": 64,
                            "name": "some text",
                            "location": {
                                "longitude": 87.62,
                                "latitude": 97.01
                            }
                        },
                        {
                            "id": "some text",
                            "info": {
                                "bottle_filler": true
                            },
                            "user_id": "some text",
                            "created_at": 79,
                            "updated_at": 56,
                            "name": "some text",
                            "location": {
                                "longitude": 87.37,
                                "latitude": 8.19
                            }
                        }
                    ],
                    "ratings": [
                        {
                            "id": "some text",
                            "fob_id": "some text",
                            "user_id": "some text",
                            "details": {
                                "cleanliness": 2,
                                "decor": 7,
                                "drying": 42,
                                "privacy": 65,
                                "washing": 96
                            },
                            "created_at": 72,
                            "updated_at": 44
                        },
                        {
                            "id": "some text",
                            "fob_id": "some text",
                            "user_id": "some text",
                            "details": {
                                "cleanliness": 74,
                                "decor": 49,
                                "drying": 13,
                                "privacy": 7,
                                "washing": 65
                            },
                            "created_at": 83,
                            "updated_at": 20
                        }
                    ],
                    "pictures": [
                        {
                            "id": "some text",
                            "fob_id": "some text",
                            "url": "some text",
                            "user_id": "some text",
                            "created_at": 65,
                            "updated_at": 97
                        },
                        {
                            "id": "some text",
                            "fob_id": "some text",
                            "url": "some text",
                            "user_id": "some text",
                            "created_at": 89,
                            "updated_at": 22
                        }
                    ]
                }
            },
            "FobCreationDetails": {
                "description": "Information necessary to create a Fob",
                "required": [
                    "type",
                    "name",
                    "location",
                    "info"
                ],
                "type": "object",
                "properties": {
                    "type": {
                        "description": "Type of the Fob",
                        "enum": ["fountain", "bathroom"]
                    },
                    "name": {
                        "description": "Name of the Fob",
                        "type": "string"
                    },
                    "location": {
                        "$ref": "#/components/schemas/Location"
                    },
                    "info": {
                        "description": "Details about the Fob",
                        "oneOf": [
                            { "$ref": "#/components/schemas/FountainInfo" },
                            { "$ref": "#/components/schemas/BathroomInfo" }
                        ]
                    }
                },
                "example": {
                    "name": "Example Fob",
                    "location": {
                        "longitude": 25.86,
                        "latitude": 2.67
                    },
                    "info": {
                        "bottle_filler": true
                    }
                }
            },
            "FobWithDetails": {
                "description": "Details of a Fob including its pictures and ratings",
                "type": "object",
                "properties": {
                    "fob": {
                        "$ref": "#/components/schemas/Fob"
                    },
                    "user": {
                        "$ref": "#/components/schemas/User"
                    },
                    "pictures": {
                        "description": "Array of pictures associated with the Fob",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Picture"
                        }
                    },
                    "ratingsWithDetails": {
                        "description": "Array of ratings (with details) associated with the Fob",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/RatingWithDetails"
                        }
                    }
                },
                "required": ["fob", "user", "pictures", "ratingsWithDetails"],
                "example": {
                    "fob": {
                        "id": "fob123",
                        "info": {
                            "bottle_filler": true
                        },
                        "user_id": "user456",
                        "created_at": 1672531200000,
                        "updated_at": 1672617600000,
                        "name": "Example Fob",
                        "location": {
                            "longitude": 25.86,
                            "latitude": 2.67
                        }
                    },
                    "user": {
                        "username": "some text",
                        "email": "some text",
                        "profile": {
                            "full_name": "some text",
                            "picture_link": "some text"
                        },
                        "id": "some text",
                        "created_at": 1672531200000,
                        "updated_at": 1672531200000
                    },
                    "pictures": [
                        {
                            "id": "pic123",
                            "fob_id": "fob123",
                            "url": "https://example.com/pic1.jpg",
                            "user_id": "user789",
                            "created_at": 1672531200000,
                            "updated_at": 1672617600000
                        },
                        {
                            "id": "pic124",
                            "fob_id": "fob123",
                            "url": "https://example.com/pic2.jpg",
                            "user_id": "user789",
                            "created_at": 1672531200000,
                            "updated_at": 1672617600000
                        }
                    ],
                    "ratingsWithDetails": [
                        {
                            "rating": {
                                "id": "rating123",
                                "fob_id": "fob123",
                                "user_id": "user789",
                                "details": {
                                    "pressure": 5,
                                    "taste": 4,
                                    "temperature": 3
                                },
                                "created_at": 1672531200000,
                                "updated_at": 1672617600000
                            },
                            "user": {
                                "id": "user789",
                                "username": "exampleUser1",
                                "email": "example1@example.com",
                                "profile": {
                                    "full_name": "Example User 1",
                                    "picture_link": "https://example.com/profile1.jpg"
                                },
                                "created_at": 1672531200000,
                                "updated_at": 1672617600000
                            }
                        },
                        {
                            "rating": {
                                "id": "rating124",
                                "fob_id": "fob123",
                                "user_id": "user456",
                                "details": {
                                    "pressure": 5,
                                    "taste": 4,
                                    "temperature": 3
                                },
                                "created_at": 1672531200000,
                                "updated_at": 1672617600000
                            },
                            "user": {
                                "id": "user456",
                                "username": "exampleUser2",
                                "email": "example2@example.com",
                                "profile": {
                                    "full_name": "Example User 2",
                                    "picture_link": "https://example.com/profile2.jpg"
                                },
                                "created_at": 1672531200000,
                                "updated_at": 1672617600000
                            }
                        }
                    ]
                }
            }
        },
        "securitySchemes": {
            "Access_Token": {
                "type": "apiKey",
                "description": "Obtain access token after sending email and password",
                "name": "Authorization",
                "in": "header"
            }
        }
    }
}
