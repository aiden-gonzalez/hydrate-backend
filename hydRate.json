{
    "openapi": "3.0.2",
    "info": {
        "title": "hydRate",
        "version": "1.0.0",
        "description": "API for hydRate application",
        "contact": {
            "name": "Aiden Gonzalez",
            "url": "https://aidengonzalez.dev/",
            "email": "aidenlgonzalez2@gmail.com"
        },
        "license": {
            "name": "MIT License",
            "url": "https://opensource.org/licenses/MIT"
        }
    },
    "paths": {
        "/api/signup": {
            "summary": "Request creation of new user account",
            "post": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/SignupRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/User"
                                }
                            }
                        },
                        "description": "Account successfully created"
                    },
                    "401": {
                        "description": "Credentials invalid!"
                    }
                },
                "summary": "Create new user account"
            }
        },
        "/api/fountains": {
            "summary": "Primary endpoint for retrieving (GET) and adding (POST) fountains",
            "get": {
                "parameters": [
                    {
                        "name": "longitude",
                        "description": "Longitude to fetch fountains around.\nIf provided, must also provide latitude!",
                        "schema": {
                            "type": "number"
                        },
                        "in": "query"
                    },
                    {
                        "name": "latitude",
                        "description": "Latitude to fetch fountains around.\nIf provided, must provide longitude!",
                        "schema": {
                            "type": "number"
                        },
                        "in": "query"
                    },
                    {
                        "name": "bottle_filler",
                        "description": "Filter fountains by bottle_filler property",
                        "schema": {
                            "type": "boolean"
                        },
                        "in": "query"
                    },
                    {
                        "name": "radius",
                        "description": "Radius to fetch fountains within (in meters)",
                        "schema": {
                            "type": "number"
                        },
                        "in": "query",
                        "required": false
                    },
                    {
                        "name": "user_id",
                        "description": "ID of user that created the fountain(s)",
                        "schema": {
                            "type": "string"
                        },
                        "in": "query",
                        "required": false
                    },
                    {
                        "name": "from_date",
                        "description": "Filter fountains to those created on or after this date.  Unix epoch milliseconds timestamp.",
                        "schema": {
                            "type": "number"
                        },
                        "in": "query",
                        "required": false
                    },
                    {
                        "name": "to_date",
                        "description": "Filter fountains to those created before or on this date.  Unix epoch milliseconds timestamp.",
                        "schema": {
                            "type": "number"
                        },
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Fountain"
                                    }
                                }
                            }
                        },
                        "description": "Successful query.  Return array of fountains."
                    },
                    "400": {
                        "description": "Bad request"
                    },
                    "403": {
                        "description": "Authentication failed!"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get a group of fountains (query)"
            },
            "post": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/FountainInfo"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Fountain"
                                }
                            }
                        },
                        "description": "Successfully added fountain!"
                    },
                    "400": {
                        "description": "Malformed request! Missing some information or not in right format."
                    },
                    "401": {
                        "description": "Access token incorrect / insufficient / expired!"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Add a fountain"
            }
        },
        "/api/auth/refresh": {
            "summary": "For using refresh token to obtain new access token",
            "post": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AuthRefreshRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/AuthSuccessResponse"
                                }
                            }
                        },
                        "description": "Successful refresh request, grant new tokens"
                    },
                    "400": {
                        "description": "Request is missing required information or is incorrectly formatted"
                    },
                    "401": {
                        "description": "Credentials incorrect or refresh token expired!"
                    }
                },
                "summary": "Auth token refresh"
            }
        },
        "/api/auth": {
            "summary": "Primary endpoint for password authentication scheme",
            "post": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AuthRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/AuthSuccessResponse"
                                }
                            }
                        },
                        "description": "Successful auth request, return tokens and token information"
                    },
                    "400": {
                        "description": "Request is missing required information or is incorrectly formatted"
                    },
                    "401": {
                        "description": "User credentials are incorrect"
                    }
                },
                "summary": "Password authentication"
            }
        },
        "/api/profiles/{username}": {
            "summary": "Endpoint for getting and updating profiles",
            "get": {
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserProfile"
                                }
                            }
                        },
                        "description": "Successfully fetched user profile"
                    },
                    "400": {
                        "description": "Malformed request (missing username?)"
                    },
                    "403": {
                        "description": "Authorization/authentication failed (access token invalid, or maybe not allowed to view this profile?)"
                    },
                    "404": {
                        "description": "User with provided username not found!"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get a profile by username"
            },
            "put": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UserProfile"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserProfile"
                                }
                            }
                        },
                        "description": "Successfully updated user profile!"
                    },
                    "400": {
                        "description": "Malformed request!"
                    },
                    "401": {
                        "description": "Authorization/authentication failed!"
                    },
                    "404": {
                        "description": "Could not find user with ID"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Update user profile by username"
            },
            "parameters": [
                {
                    "examples": {
                        "username": {
                            "value": "gonzo123"
                        }
                    },
                    "name": "username",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                }
            ]
        },
        "/api/bathrooms": {
            "summary": "Primary endpoint for retrieving (GET) and adding (POST) bathrooms",
            "get": {
                "parameters": [
                    {
                        "name": "longitude",
                        "description": "Longitude to fetch bathrooms around.\nIf provided, must also provide latitude!",
                        "schema": {
                            "type": "number"
                        },
                        "in": "query"
                    },
                    {
                        "name": "latitude",
                        "description": "Latitude to fetch bathrooms around.\nIf provided, must provide longitude!",
                        "schema": {
                            "type": "number"
                        },
                        "in": "query"
                    },
                    {
                        "name": "radius",
                        "description": "Radius to fetch bathrooms within",
                        "schema": {
                            "type": "number"
                        },
                        "in": "query",
                        "required": false
                    },
                    {
                        "name": "baby_changer",
                        "description": "Filter bathrooms by baby_changer property",
                        "schema": {
                            "type": "boolean"
                        },
                        "in": "query"
                    },
                    {
                        "name": "gender",
                        "description": "Filter bathrooms by gender property",
                        "schema": {
                            "type": "string"
                        },
                        "in": "query",
                        "required": false
                    },
                    {
                        "name": "sanitary_products",
                        "description": "Filter bathrooms by sanitary_products property",
                        "schema": {
                            "type": "boolean"
                        },
                        "in": "query"
                    },
                    {
                        "name": "user_id",
                        "description": "ID of user that created the bathroom(s)",
                        "schema": {
                            "type": "string"
                        },
                        "in": "query"
                    },
                    {
                        "name": "from_date",
                        "description": "Filter bathrooms to those created on or after this date.  Unix epoch milliseconds timestamp.",
                        "schema": {
                            "type": "number"
                        },
                        "in": "query"
                    },
                    {
                        "name": "to_date",
                        "description": "Filter bathrooms to those created before or on this date.  Unix epoch milliseconds timestamp.",
                        "schema": {
                            "type": "number"
                        },
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Bathroom"
                                    }
                                }
                            }
                        },
                        "description": "Successful query.  Return array of bathrooms."
                    },
                    "400": {
                        "description": "Bad request"
                    },
                    "403": {
                        "description": "Authentication failed"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get a group of bathrooms (query)"
            },
            "post": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/BathroomInfo"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Bathroom"
                                }
                            }
                        },
                        "description": "Successfully added bathroom!"
                    },
                    "400": {
                        "description": "Malformed request! Missing some information or not in right format."
                    },
                    "401": {
                        "description": "Access token incorrect / insufficient / expired!"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Create (add) a bathroom"
            }
        },
        "/api/bathrooms/{id}/ratings": {
            "summary": "Primary endpoint for adding (POST), retrieving (GET), and updating (PUT) bathroom ratings",
            "get": {
                "parameters": [
                    {
                        "name": "page_size",
                        "description": "Optional pagination: Size of pages to fetch (number of ratings per page)",
                        "schema": {
                            "type": "integer"
                        },
                        "in": "query"
                    },
                    {
                        "name": "page_offset",
                        "description": "Optional pagination: Offset of page to fetch (default is 0, max is 100)",
                        "schema": {
                            "type": "integer"
                        },
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/BathroomRating"
                                    }
                                }
                            }
                        },
                        "description": "Successful query.  Return array of bathroom ratings."
                    },
                    "400": {
                        "description": "Bad request"
                    },
                    "403": {
                        "description": "Authentication failed"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get ratings for a particular bathroom"
            },
            "post": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/BathroomRatingDetails"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BathroomRating"
                                }
                            }
                        },
                        "description": "Successfully added bathroom rating!"
                    },
                    "400": {
                        "description": "Malformed request! Missing some information or not in right format."
                    },
                    "401": {
                        "description": "Access token incorrect / insufficient / expired!"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Add a bathroom rating"
            },
            "parameters": [
                {
                    "name": "id",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                }
            ]
        },
        "/api/bathrooms/{id}/ratings/{ratingId}": {
            "get": {
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BathroomRating"
                                }
                            }
                        },
                        "description": "Successful request, return rating"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get a particular rating for a particular bathroom"
            },
            "put": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/BathroomRatingDetails"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BathroomRating"
                                }
                            }
                        },
                        "description": "Bathroom rating successfully updated!"
                    },
                    "400": {
                        "description": "Bad request"
                    },
                    "403": {
                        "description": "Authentication failed"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Update bathroom rating"
            },
            "parameters": [
                {
                    "name": "id",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                },
                {
                    "name": "ratingId",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                }
            ]
        },
        "/api/bathrooms/{id}": {
            "summary": "Primary endpoint for retrieving (GET) and updating (PUT) a bathroom.",
            "get": {
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Bathroom"
                                }
                            }
                        },
                        "description": "Successful request, return bathroom."
                    },
                    "400": {
                        "description": "Bad request"
                    },
                    "403": {
                        "description": "Insufficient auth"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get bathroom"
            },
            "put": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/BathroomInfo"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Bathroom"
                                }
                            }
                        },
                        "description": "Bathroom successfully updated!"
                    },
                    "400": {
                        "description": "Bad request"
                    },
                    "403": {
                        "description": "Authentication failed"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Update bathroom info for a particular bathroom"
            },
            "parameters": [
                {
                    "name": "id",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                }
            ]
        },
        "/api/bathrooms/{id}/pictures": {
            "summary": "Add, retrieve, and delete bathroom pictures",
            "get": {
                "parameters": [
                    {
                        "name": "offset",
                        "description": "Offset of photo to fetch (first picture is 0)",
                        "schema": {
                            "type": "integer"
                        },
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Picture"
                                    }
                                }
                            }
                        },
                        "description": "Successful pictures request"
                    },
                    "400": {
                        "description": "Malformed request (may be missing required parameters)"
                    },
                    "401": {
                        "description": "Authentication/authorization failed"
                    },
                    "404": {
                        "description": "Picture of bathroom with provided offset does not exist!"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get bathroom photos",
                "description": "Fetches all if no offset provided.  Otherwise fetches just that photo."
            },
            "post": {
                "requestBody": {
                    "description": "Picture link",
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PictureInfo"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Picture"
                                }
                            }
                        },
                        "description": "Successfully added picture!"
                    },
                    "400": {
                        "description": "Malformed request"
                    },
                    "401": {
                        "description": "Authentication/authorization failed"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Add bathroom picture (link only, file hosting will have to be handled separately)"
            },
            "parameters": [
                {
                    "name": "id",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                }
            ]
        },
        "/api/bathrooms/{id}/pictures/{pictureId}": {
            "get": {
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Picture"
                                }
                            }
                        },
                        "description": "Successful request, return picture"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get a particular picture for a particular bathroom"
            },
            "delete": {
                "responses": {
                    "200": {
                        "description": "Successfully removed picture!"
                    },
                    "400": {
                        "description": "Malformed request (missing ID?)"
                    },
                    "403": {
                        "description": "Authorization/authentication failed!"
                    },
                    "404": {
                        "description": "Picture with provided ID not found!"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Delete a bathroom picture"
            },
            "parameters": [
                {
                    "name": "id",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                },
                {
                    "name": "pictureId",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                }
            ]
        },
        "/api/fountains/{id}/pictures": {
            "summary": "Add, retrieve, and delete fountain pictures",
            "get": {
                "parameters": [
                    {
                        "name": "offset",
                        "description": "Offset of photo to fetch (first picture is 0)",
                        "schema": {
                            "type": "integer"
                        },
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Picture"
                                    }
                                }
                            }
                        },
                        "description": "Successful pictures request"
                    },
                    "400": {
                        "description": "Malformed request (may be missing required parameters)"
                    },
                    "401": {
                        "description": "Authentication/authorization failed"
                    },
                    "404": {
                        "description": "Picture of fountain with provided offset does not exist!"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get fountain photos",
                "description": "Fetches all if no offset provided.  Otherwise fetches just that photo."
            },
            "post": {
                "requestBody": {
                    "description": "Picture link",
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PictureInfo"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Picture"
                                }
                            }
                        },
                        "description": "Successfully added picture!"
                    },
                    "400": {
                        "description": "Malformed request"
                    },
                    "401": {
                        "description": "Authentication/authorization failed"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Add fountain picture (link only, file hosting will have to be handled separately)"
            },
            "parameters": [
                {
                    "name": "id",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                }
            ]
        },
        "/api/fountains/{id}/pictures/{pictureId}": {
            "get": {
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Picture"
                                }
                            }
                        },
                        "description": "Successful request, return picture"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get a particular picture for a particular fountain"
            },
            "delete": {
                "responses": {
                    "200": {
                        "description": "Successfully removed picture!"
                    },
                    "400": {
                        "description": "Malformed request (missing ID?)"
                    },
                    "403": {
                        "description": "Authorization/authentication failed!"
                    },
                    "404": {
                        "description": "Picture with provided ID not found!"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Delete a fountain picture"
            },
            "parameters": [
                {
                    "name": "id",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                },
                {
                    "name": "pictureId",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                }
            ]
        },
        "/api/fountains/{id}/ratings": {
            "summary": "Primary endpoint for adding (POST), retrieving (GET), and updating (PUT) fountain ratings",
            "get": {
                "parameters": [
                    {
                        "name": "page_size",
                        "description": "Optional pagination: Size of pages to fetch (number of ratings per page)",
                        "schema": {
                            "type": "integer"
                        },
                        "in": "query"
                    },
                    {
                        "name": "page_offset",
                        "description": "Optional pagination: Offset of page to fetch (default is 0, max is 100)",
                        "schema": {
                            "type": "integer"
                        },
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/FountainRating"
                                    }
                                }
                            }
                        },
                        "description": "Successful query.  Return array of fountain ratings."
                    },
                    "400": {
                        "description": "Bad request"
                    },
                    "403": {
                        "description": "Authentication failed"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get ratings for a particular fountain"
            },
            "post": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/FountainRatingDetails"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/FountainRating"
                                }
                            }
                        },
                        "description": "Successfully added fountain rating!"
                    },
                    "400": {
                        "description": "Malformed request! Missing some information or not in right format."
                    },
                    "401": {
                        "description": "Access token incorrect / insufficient / expired!"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Add a fountain rating"
            },
            "parameters": [
                {
                    "name": "id",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                }
            ]
        },
        "/api/fountains/{id}/ratings/{ratingId}": {
            "get": {
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/FountainRating"
                                }
                            }
                        },
                        "description": "Successful request, return fountain rating"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get a particular rating for a particular fountain"
            },
            "put": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/FountainRatingDetails"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/FountainRating"
                                }
                            }
                        },
                        "description": "Fountain rating successfully updated!"
                    },
                    "400": {
                        "description": "Bad request"
                    },
                    "403": {
                        "description": "Authentication failed"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Update fountain rating"
            },
            "parameters": [
                {
                    "name": "id",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                },
                {
                    "name": "ratingId",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                }
            ]
        },
        "/api/fountains/{id}": {
            "summary": "Primary endpoint for retrieving (GET) and updating (PUT) a fountain.",
            "get": {
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Fountain"
                                }
                            }
                        },
                        "description": "Successful request, return fountain."
                    },
                    "400": {
                        "description": "Bad request"
                    },
                    "403": {
                        "description": "Insufficient auth"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get fountain"
            },
            "put": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/FountainInfo"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Fountain"
                                }
                            }
                        },
                        "description": "Fountain successfully updated!"
                    },
                    "400": {
                        "description": "Bad request"
                    },
                    "403": {
                        "description": "Authentication failed"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Update fountain info for a particular fountain"
            },
            "parameters": [
                {
                    "name": "id",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                }
            ]
        },
        "/": {
            "get": {
                "responses": {
                    "200": {
                        "description": "Server OK"
                    }
                },
                "summary": "Generic endpoint"
            }
        },
        "/api/profiles/{username}/contributions": {
            "summary": "Endpoint for getting user contributions",
            "description": "",
            "get": {
                "parameters": [
                    {
                        "name": "from_date",
                        "description": "Limit query to contributions on and after this date.  Unix epoch milliseconds timestamp.",
                        "schema": {
                            "type": "integer"
                        },
                        "in": "query"
                    },
                    {
                        "name": "to_date",
                        "description": "Limit query to contributions up to and on this date.  Unix epoch milliseconds timestamp.",
                        "schema": {
                            "type": "integer"
                        },
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserContributions"
                                }
                            }
                        },
                        "description": "Request successful. Returns user contributions."
                    },
                    "400": {
                        "description": "Malformed request"
                    },
                    "401": {
                        "description": "Authorization/authentication failed (access token invalid, or maybe not allowed to view this profile?)"
                    },
                    "404": {
                        "description": "User not found"
                    }
                },
                "security": [
                    {
                        "Access_Token": []
                    }
                ],
                "summary": "Get user contributions for specified user",
                "description": "Uses an optimized database query to get user created fountains, bathrooms, ratings, and pictures. All contributions by that user basically."
            },
            "parameters": [
                {
                    "examples": {
                        "username": {
                            "value": "\"some text\""
                        }
                    },
                    "name": "username",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                }
            ]
        }
    },
    "components": {
        "schemas": {
            "User": {
                "description": "",
                "required": [
                    "username",
                    "email",
                    "hashed_password",
                    "profile",
                    "id"
                ],
                "type": "object",
                "properties": {
                    "username": {
                        "description": "Username of user",
                        "type": "string"
                    },
                    "email": {
                        "description": "Email address of user",
                        "type": "string"
                    },
                    "hashed_password": {
                        "$ref": "#/components/schemas/HashedPassword",
                        "description": "Hash of user password for authentication"
                    },
                    "profile": {
                        "$ref": "#/components/schemas/UserProfile",
                        "description": "User profile"
                    },
                    "id": {
                        "description": "Unique user id (not technically necessary but helpful)",
                        "type": "string"
                    },
                    "created_at": {
                        "description": "Created timestamp.  Unix epoch milliseconds.",
                        "type": "integer"
                    },
                    "updated_at": {
                        "description": "Updated timestamp.  Unix epoch milliseconds.",
                        "type": "integer"
                    }
                },
                "example": {
                    "username": "some text",
                    "email": "some text",
                    "hashed_password": {
                        "hash_pass": "some text",
                        "hash_salt": "some text"
                    },
                    "profile": {
                        "full_name": "some text",
                        "picture_link": "some text"
                    },
                    "id": "some text",
                    "created_at": 12,
                    "updated_at": 3
                }
            },
            "UserProfile": {
                "description": "",
                "required": [
                    "full_name",
                    "picture_link"
                ],
                "type": "object",
                "properties": {
                    "full_name": {
                        "description": "Full name of user",
                        "type": "string"
                    },
                    "picture_link": {
                        "description": "Link to profile photo",
                        "type": "string"
                    }
                },
                "example": {
                    "full_name": "some text",
                    "picture_link": "some text"
                }
            },
            "FountainRating": {
                "description": "",
                "required": [
                    "id",
                    "fountain_id",
                    "user_id",
                    "details"
                ],
                "type": "object",
                "properties": {
                    "id": {
                        "description": "Unique id of fountain rating (technically not necessary but nice to have)",
                        "type": "string"
                    },
                    "fountain_id": {
                        "description": "ID of fountain rating is for",
                        "type": "string"
                    },
                    "user_id": {
                        "description": "ID of user who created rating",
                        "type": "string"
                    },
                    "details": {
                        "$ref": "#/components/schemas/FountainRatingDetails",
                        "description": "Details of fountain rating"
                    },
                    "created_at": {
                        "description": "Created timestamp.  Unix epoch milliseconds.",
                        "type": "integer"
                    },
                    "updated_at": {
                        "description": "Updated timestamp.  Unix epoch milliseconds.",
                        "type": "integer"
                    }
                },
                "example": {
                    "id": "some text",
                    "fountain_id": "some text",
                    "user_id": "some text",
                    "details": {
                        "pressure": 2,
                        "taste": 6,
                        "temperature": 18
                    },
                    "created_at": 63,
                    "updated_at": 27
                }
            },
            "Picture": {
                "description": "",
                "required": [
                    "id",
                    "entity_id",
                    "url",
                    "user_id"
                ],
                "type": "object",
                "properties": {
                    "id": {
                        "description": "Unique ID of picture",
                        "type": "string"
                    },
                    "entity_id": {
                        "description": "Fountain or bathroom ID picture is for",
                        "type": "string"
                    },
                    "url": {
                        "description": "Url for picture",
                        "type": "string"
                    },
                    "user_id": {
                        "description": "ID of user that created the picture.",
                        "type": "string"
                    },
                    "created_at": {
                        "description": "Created timestamp.  Unix epoch milliseconds.",
                        "type": "integer"
                    },
                    "updated_at": {
                        "description": "Updated timestamp.  Unix epoch milliseconds.",
                        "type": "integer"
                    }
                },
                "example": {
                    "id": "some text",
                    "entity_id": "some text",
                    "url": "some text",
                    "user_id": "some text",
                    "created_at": 20,
                    "updated_at": 89
                }
            },
            "BathroomRating": {
                "description": "",
                "required": [
                    "id",
                    "bathroom_id",
                    "user_id",
                    "details"
                ],
                "type": "object",
                "properties": {
                    "id": {
                        "description": "Unique id of bathroom rating",
                        "type": "string"
                    },
                    "bathroom_id": {
                        "description": "ID of bathroom rating is for",
                        "type": "string"
                    },
                    "user_id": {
                        "description": "ID of user who created bathroom rating",
                        "type": "string"
                    },
                    "details": {
                        "$ref": "#/components/schemas/BathroomRatingDetails",
                        "description": "Details of bathroom rating"
                    },
                    "created_at": {
                        "description": "Created timestamp.  Unix epoch milliseconds.",
                        "type": "integer"
                    },
                    "updated_at": {
                        "description": "Updated timestamp.  Unix epoch milliseconds.",
                        "type": "integer"
                    }
                },
                "example": {
                    "id": "some text",
                    "bathroom_id": "some text",
                    "user_id": "some text",
                    "details": {
                        "cleanliness": 47,
                        "decor": 63,
                        "drying": 37,
                        "privacy": 24,
                        "washing": 56
                    },
                    "created_at": 46,
                    "updated_at": 7
                }
            },
            "UserCredentials": {
                "description": "Set of login credentials",
                "required": [
                    "email",
                    "password"
                ],
                "type": "object",
                "properties": {
                    "email": {
                        "description": "Email address of user",
                        "type": "string"
                    },
                    "password": {
                        "description": "User's password",
                        "type": "string"
                    }
                },
                "example": {
                    "email": "some text",
                    "password": "some text"
                }
            },
            "HashedPassword": {
                "description": "SHA256 hashed password (with salt)",
                "required": [
                    "hash_pass",
                    "hash_salt"
                ],
                "type": "object",
                "properties": {
                    "hash_pass": {
                        "description": "Hashed password (SHA256)",
                        "type": "string"
                    },
                    "hash_salt": {
                        "description": "Salt used for SHA256 hash",
                        "type": "string"
                    }
                },
                "example": {
                    "hash_pass": "some text",
                    "hash_salt": "some text"
                }
            },
            "Location": {
                "description": "Identify a unique location (longitude and latitude)",
                "required": [
                    "longitude",
                    "latitude"
                ],
                "type": "object",
                "properties": {
                    "longitude": {
                        "description": "Longitude of location",
                        "type": "number"
                    },
                    "latitude": {
                        "description": "Latitude of location",
                        "type": "number"
                    }
                },
                "example": {
                    "longitude": 38.13,
                    "latitude": 35.74
                }
            },
            "SignupRequest": {
                "description": "Information needed for signup request",
                "required": [
                    "user_credentials",
                    "username"
                ],
                "type": "object",
                "properties": {
                    "username": {
                        "description": "New username for new user",
                        "type": "string"
                    },
                    "user_credentials": {
                        "$ref": "#/components/schemas/UserCredentials",
                        "description": "Set of new credentials for new user"
                    }
                },
                "example": {
                    "username": "some text",
                    "user_credentials": {
                        "email": "some text",
                        "password": "some text"
                    }
                }
            },
            "Fountain": {
                "description": "Basic fountain information",
                "required": [
                    "id",
                    "info",
                    "user_id"
                ],
                "type": "object",
                "properties": {
                    "id": {
                        "description": "Unique ID of fountain",
                        "type": "string"
                    },
                    "info": {
                        "$ref": "#/components/schemas/FountainInfo",
                        "description": "Fountain information"
                    },
                    "user_id": {
                        "description": "ID of user that created the fountain.",
                        "type": "string"
                    },
                    "created_at": {
                        "description": "Created timestamp.  Unix epoch milliseconds.",
                        "type": "integer"
                    },
                    "updated_at": {
                        "description": "Updated timestamp.  Unix epoch milliseconds.",
                        "type": "integer"
                    }
                },
                "example": {
                    "id": "some text",
                    "info": {
                        "name": "some text",
                        "bottle_filler": true,
                        "location": {
                            "longitude": 26.65,
                            "latitude": 26.1
                        }
                    },
                    "user_id": "some text",
                    "created_at": 50,
                    "updated_at": 99
                }
            },
            "FountainInfo": {
                "description": "",
                "required": [
                    "name",
                    "bottle_filler",
                    "location"
                ],
                "type": "object",
                "properties": {
                    "name": {
                        "description": "Name for fountain",
                        "type": "string"
                    },
                    "bottle_filler": {
                        "description": "Whether or not the fountain features a dedicated bottle filler",
                        "type": "boolean"
                    },
                    "location": {
                        "$ref": "#/components/schemas/Location",
                        "description": "Location of fountain"
                    }
                },
                "example": {
                    "name": "some text",
                    "bottle_filler": true,
                    "location": {
                        "longitude": 13.04,
                        "latitude": 48.71
                    }
                }
            },
            "BathroomInfo": {
                "description": "",
                "required": [
                    "name",
                    "gender",
                    "sanitary_products",
                    "baby_changer",
                    "location"
                ],
                "type": "object",
                "properties": {
                    "name": {
                        "description": "Name of bathroom",
                        "type": "string"
                    },
                    "gender": {
                        "description": "Gender/sex of bathroom",
                        "pattern": "^((male)|(female)|(all-gender))$",
                        "type": "string"
                    },
                    "sanitary_products": {
                        "description": "Whether or not bathroom has sanitary products available (such as tampons and pads)",
                        "type": "boolean"
                    },
                    "baby_changer": {
                        "description": "Whether or not bathroom has a baby changer available",
                        "type": "boolean"
                    },
                    "location": {
                        "$ref": "#/components/schemas/Location",
                        "description": "Location of bathroom"
                    }
                },
                "example": {
                    "name": "some text",
                    "gender": "some text",
                    "sanitary_products": true,
                    "baby_changer": true,
                    "location": {
                        "longitude": 1.21,
                        "latitude": 50.7
                    }
                }
            },
            "Bathroom": {
                "description": "Bathroom",
                "required": [
                    "id",
                    "info",
                    "user_id"
                ],
                "type": "object",
                "properties": {
                    "id": {
                        "description": "Unique ID of bathroom",
                        "type": "string"
                    },
                    "info": {
                        "$ref": "#/components/schemas/BathroomInfo",
                        "description": "Info for bathroom"
                    },
                    "user_id": {
                        "description": "ID of user that created the bathroom.",
                        "type": "string"
                    },
                    "created_at": {
                        "description": "Created timestamp.  Unix epoch milliseconds.",
                        "type": "integer"
                    },
                    "updated_at": {
                        "description": "Updated timestamp.  Unix epoch milliseconds.",
                        "type": "integer"
                    }
                },
                "example": {
                    "id": "some text",
                    "info": {
                        "name": "some text",
                        "gender": "some text",
                        "sanitary_products": true,
                        "baby_changer": true,
                        "location": {
                            "longitude": 19.94,
                            "latitude": 21.38
                        }
                    },
                    "user_id": "some text",
                    "created_at": 71,
                    "updated_at": 78
                }
            },
            "BathroomRatingDetails": {
                "description": "Actual details of bathroom rating",
                "required": [
                    "cleanliness",
                    "decor",
                    "drying",
                    "privacy",
                    "washing"
                ],
                "type": "object",
                "properties": {
                    "cleanliness": {
                        "description": "Cleanliness rating of bathroom (1-5)",
                        "maximum": 5,
                        "minimum": 1,
                        "type": "integer"
                    },
                    "decor": {
                        "description": "Decor rating of bathroom (1-5)",
                        "maximum": 5,
                        "minimum": 1,
                        "type": "integer"
                    },
                    "drying": {
                        "description": "Drying rating of bathroom (1-5)",
                        "maximum": 5,
                        "minimum": 1,
                        "type": "integer"
                    },
                    "privacy": {
                        "description": "Privacy rating of bathroom (1-5)",
                        "maximum": 5,
                        "minimum": 1,
                        "type": "integer"
                    },
                    "washing": {
                        "description": "Washing rating of bathroom (1-5)",
                        "maximum": 5,
                        "minimum": 1,
                        "type": "integer"
                    }
                },
                "example": {
                    "cleanliness": 3,
                    "decor": 1,
                    "drying": 2,
                    "privacy": 3,
                    "washing": 5
                }
            },
            "FountainRatingDetails": {
                "description": "Details of fountain rating",
                "required": [
                    "pressure",
                    "taste",
                    "temperature"
                ],
                "type": "object",
                "properties": {
                    "pressure": {
                        "description": "Pressure rating for fountain (1-5)",
                        "maximum": 5,
                        "minimum": 1,
                        "type": "integer"
                    },
                    "taste": {
                        "description": "Taste rating for fountain (1-5)",
                        "maximum": 5,
                        "minimum": 1,
                        "type": "integer"
                    },
                    "temperature": {
                        "description": "Temperature rating for fountain (1-5)",
                        "maximum": 5,
                        "minimum": 1,
                        "type": "integer"
                    }
                },
                "example": {
                    "pressure": 5,
                    "taste": 4,
                    "temperature": 1
                }
            },
            "AuthSuccessResponse": {
                "description": "Tokens and token information returned after successful auth request   ",
                "required": [
                    "access_token",
                    "refresh_token",
                    "token_type",
                    "expires",
                    "username"
                ],
                "type": "object",
                "properties": {
                    "access_token": {
                        "description": "Access token for user",
                        "type": "string"
                    },
                    "refresh_token": {
                        "description": "Token to use to get a new token once access_token expires",
                        "type": "string"
                    },
                    "token_type": {
                        "description": "Type of token (will be \"Bearer\")",
                        "type": "string"
                    },
                    "expires": {
                        "description": "Number of seconds that access_token is valid for",
                        "type": "integer"
                    },
                    "username": {
                        "description": "Username of authenticated user",
                        "type": "string"
                    }
                },
                "example": {
                    "access_token": "some text",
                    "refresh_token": "some text",
                    "token_type": "some text",
                    "expires": 12,
                    "username": "some text"
                }
            },
            "AuthRefreshRequest": {
                "description": "Request format for refreshing auth access token",
                "required": [
                    "expired_token",
                    "refresh_token"
                ],
                "type": "object",
                "properties": {
                    "refresh_token": {
                        "description": "Refresh token",
                        "type": "string"
                    },
                    "expired_token": {
                        "description": "Expired access token",
                        "type": "string"
                    }
                },
                "example": {
                    "refresh_token": "some text",
                    "expired_token": "some text"
                }
            },
            "AuthRequest": {
                "description": "Body of POST request for authentication",
                "required": [
                    "user_credentials"
                ],
                "type": "object",
                "properties": {
                    "user_credentials": {
                        "$ref": "#/components/schemas/UserCredentials",
                        "description": "Credentials for user"
                    }
                },
                "example": {
                    "user_credentials": {
                        "email": "some text",
                        "password": "some text"
                    }
                }
            },
            "UserContributions": {
                "description": "Summary of user contributions",
                "required": [
                    "fountains",
                    "bathrooms",
                    "fountain_ratings",
                    "bathroom_ratings",
                    "pictures"
                ],
                "type": "object",
                "properties": {
                    "fountains": {
                        "description": "Fountains created by user",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Fountain"
                        }
                    },
                    "bathrooms": {
                        "description": "Bathrooms created by user",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Bathroom"
                        }
                    },
                    "fountain_ratings": {
                        "description": "Fountain ratings created by user",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/FountainRating"
                        }
                    },
                    "bathroom_ratings": {
                        "description": "Bathroom ratings created by user",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/BathroomRating"
                        }
                    },
                    "pictures": {
                        "description": "Pictures created by user",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Picture"
                        }
                    }
                },
                "example": {
                    "fountains": [
                        {
                            "id": "some text",
                            "info": {
                                "name": "some text",
                                "bottle_filler": true,
                                "location": {
                                    "longitude": 57.31,
                                    "latitude": 60.06
                                }
                            },
                            "user_id": "some text"
                        },
                        {
                            "id": "some text",
                            "info": {
                                "name": "some text",
                                "bottle_filler": true,
                                "location": {
                                    "longitude": 78.88,
                                    "latitude": 28.23
                                }
                            },
                            "user_id": "some text"
                        }
                    ],
                    "bathrooms": [
                        {
                            "id": "some text",
                            "info": {
                                "name": "some text",
                                "gender": "some text",
                                "sanitary_products": true,
                                "baby_changer": true,
                                "location": {
                                    "longitude": 11.57,
                                    "latitude": 85.56
                                }
                            },
                            "user_id": "some text"
                        },
                        {
                            "id": "some text",
                            "info": {
                                "name": "some text",
                                "gender": "some text",
                                "sanitary_products": true,
                                "baby_changer": true,
                                "location": {
                                    "longitude": 44.76,
                                    "latitude": 83.35
                                }
                            },
                            "user_id": "some text"
                        }
                    ],
                    "fountain_ratings": [
                        {
                            "id": "some text",
                            "fountain_id": "some text",
                            "user_id": "some text",
                            "details": {
                                "pressure": 25,
                                "taste": 17,
                                "temperature": 29
                            }
                        },
                        {
                            "id": "some text",
                            "fountain_id": "some text",
                            "user_id": "some text",
                            "details": {
                                "pressure": 41,
                                "taste": 2,
                                "temperature": 47
                            }
                        }
                    ],
                    "bathroom_ratings": [
                        {
                            "id": "some text",
                            "bathroom_id": "some text",
                            "user_id": "some text",
                            "details": {
                                "cleanliness": 7,
                                "decor": 85,
                                "drying": 23,
                                "privacy": 57,
                                "washing": 1
                            }
                        },
                        {
                            "id": "some text",
                            "bathroom_id": "some text",
                            "user_id": "some text",
                            "details": {
                                "cleanliness": 28,
                                "decor": 7,
                                "drying": 74,
                                "privacy": 32,
                                "washing": 85
                            }
                        }
                    ],
                    "pictures": [
                        {
                            "id": "some text",
                            "entity_id": "some text",
                            "info": {
                                "url": "some text"
                            },
                            "user_id": "some text"
                        },
                        {
                            "id": "some text",
                            "entity_id": "some text",
                            "info": {
                                "url": "some text"
                            },
                            "user_id": "some text"
                        }
                    ]
                }
            }
        },
        "securitySchemes": {
            "Access_Token": {
                "type": "apiKey",
                "description": "Obtain access token after sending email and password",
                "name": "Authorization",
                "in": "header"
            }
        }
    }
}